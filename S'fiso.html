<html>
<head>
	<title>Validation Form</title>
	<script type ="text/javascript">
	var divs = new Array();
	divs[0]= "errLast";
	divs[1]= "errFirst";
	divs[2]= "errEmail";
	divs[3]= "errUid";
	divs[4]= "errPassword";
	divs[5]= "errConfirm";
	
	function validate()
	{
		var inputs = new Array();
		inputs[0] = document.getElementById('last').value;
		inputs[1] = document.getElementById('first').value;
		inputs[2] = document.getElementById('email').value;
		inputs[3] = document.getElementById('uid').value;
		inputs[4] = document.getElementById('password').value;
		inputs[5] = document.getElementById('confirm').value;
		var errors = new Array();
		errors[0] = "<span style = 'color:red'>Please enter your lastname!</span>";
		errors[1] = "<span style = 'color:red'>Please enter your firstname!</span>";
		errors[2] = "<span style = 'color:red'>Please enter your email!</span>";
		errors[3] = "<span style = 'color:red'>Please enter your user id!</span>";
		errors[4] = "<span style = 'color:red'>Please enter your password!</span>";
		errors[5] = "<span style = 'color:red'>Please confirm your password!</span>";
		
		
		for (i in inputs)
		{
			var errMessage = errors[i];
			var div = divs[i];
			if (inputs[i] == "")
				document.getElementById(div).innerHTML = errMessage;
			else if (i==2)
			{
				var atpos=inputs[i].indexOf("@");
				var dotpos=inputs[i].lastindexOf(".");
				if (atpos<1 || dotpos<atpos+2 || dotpos+2>=inputs[i].length)
				else
					document.getElementById(div.innerHTML) = "OK!";
					
				
			}
			else 
				document.getElementById(div).innerHTML= "OK!";
		}	
	}
		function finalValidate()
		{
			var count = 0;
			for(i=0; i<6; i++)
			{
				var div = divs[i];
				if (document.getElementById(div).innerHTML=="OK!")
				count= count+1;
			}
			if (count==6)
				document.getElementById("errFinal").innerHTML = "This data match correctly!!!";
		}
	</script>
</head>
<body>
	<table id = "table1">
		<tr>
			<td>Lastname</td>
			<td><input type = "text" id="last" onkeyup="validate();" /></td>
			<td><div id="errLast"></div></td>
		</tr>

		<tr>
			<td>Firstname</td>
			<td><input type = "text" id="first" onkeyup="validate();" /></td>
			<td><div id="errFirst"></div></td>
		</tr>	
		
		<tr>
			<td>Email</td>
			<td><input type = "text" id="email" onkeyup="validate();" /></td>
			<td><div id="errEmail"></div></td>
		</tr>
		
		<tr>
			<td>User Id</td>
			<td><input type = "text" id="uid" onkeyup="validate();" /></td>
			<td><div id="errUid"></div></td>
		</tr>
		
		<tr>
			<td>Password</td>
			<td><input type = "password" id="password" onkeyup="validate();" /></td>
			<td><div id="errPassword"></div></td>
		</tr>
		
		<tr>
			<td>Confirm Password</td>
			<td><input type = "password" id="confirm" onkeyup="validate();" /></td>
			<td><div id="errConfirm"></div></td>
		</tr>
		
		<tr>
			<td></td>
			<td><input type = "button" id="creat" value="Create" onclick="validate(); finalValidate();"/></td>
			<td><div id="errFinal"></div></td>
		</tr>

		
	</table>	
		

		
</body>
	
	

</html>